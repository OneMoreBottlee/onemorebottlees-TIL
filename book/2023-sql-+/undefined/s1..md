# S1. 데이터 모델링

## 데이터 모델링의 이해

### 데이터 모델링

* 데이터 모델링은 현실 세계를 데이터베이스로 표현하기 위해 추상화한다.
* 고객과의 의사소통을 통해 업무 프로세스를 이해한 후 데이터 모델링 표기법을 사용해 모델링한다.
* 데이터 모델링은 이해하기 쉽게 모델링해야 한다.
* 데이터 모델링은 업무 프로세스를 추상화하고, 소프트웨어를 분석 설계하면서 점점 더 상세해진다.
* 데이터 모델링은 고객의 비즈니스 프로세스를 이해하고 정의한 비즈니스 프로세스의 규칙으로 데이터 모델을 표현한다.



### 데이터 모델링의 특징

* [**추상화**](#user-content-fn-1)[^1]
* [**단순화**](#user-content-fn-2)[^2]
* [**명확**](#user-content-fn-3)[^3]



### 데이터 모델링 단계

#### 1) 개념적 모델링 (Conceptual Data Modeling)

* 고객의 비즈니스 프로세스를 분석하고 업무 전체에 대해 데이터 모델링을 수행한다.
* 복잡하게 표현하지 않고 중요한 부분을 위주로 모델링하는 단계
* 업무적 관점에서 모델링하며 기술적 용어는 가급적 사용하지 않는다.
* 엔터티와 속성을 도출하고 개념적 ERD를 작성한다.
* 추상화 수준이 가장 높은 수준의 모델링



#### 2) 논리적 모델링 (Logical Data Modeling)

* 개념적 모델링을 논리적 모델링으로 변환하는 작업
* 식별자를 도출하고 필요한 모든 릴레이션을 정의한다.
* 정규화를 수행하여 재사용성을 높이고 데이터 모델의 독립성을 확보한다.
* 특정 데이터베이스 모델에 종속



#### 3) 물리적 모델링(Physical Modeling)

* 데이터베이스를 실제 구축한다.
* 성능, 보안, 가용성을 고려해 구축한다.
* 구축할 데이터베이스 관리 시스템에 테이블, 인덱스 등을 생성하는 단계
* 성능, 보안, 가용성 등을 고려해 데이터베이스를 구축



> 데이터 모델링 단계
>
> 개념적 모델링 > 논리적 모델링 > 물리적 모델링



### 데이터 모델링을 위한 ERD (Entity Relationship Diagram)

엔터티와 엔터티 간 관계를 정의하는 모델링 방법으로 사실상 데이터 모델링의 표준



#### 1) ERD 작성 절차

엔터티 도출하고 그리기 > 엔터티 배치 > 관계 설정 > 관계명 서술 > 관계 참여도 표현 > 관계의 필수 여부 표현



#### 2) ERD 작성시 고려사항

* 중요 엔터티는 가급적 좌상단 위치.
* 이해가 쉬워야 하고, 복잡하지 않아야 한다.



### 데이터 모델링 고려사항

#### 1) 데이터 모델의 독립성

* 독립성이 확보된 모델은 고객의 업무 변화에 능동적으로 대응할 수 있다.
* 독립성 확보를 위해 중복 데이터를 제거한다.
* 데이터 중복을 제거하는 방법 = 정규화



#### 2) 고객 요구사항의 표현

* 데이터 모델링으로 고객과 데이터 모델러 간 의사소통을 할 수 있어야 하므로, 고객의 요구사항을 간결하고 명확하게 표현해야 한다.



#### 3) 데이터 품질 확보

* 데이터베이스 구축 시 데이터 표준을 정의하고 표준 준수율을 관리해야 한다.
* 데이터 표준을 확보해야 데이터 품질을 향상시킬 수 있다.



***

## 3층 스키마 3-Level Schema

### 3층 스키마

* 사용자, 설계자, 개발자의 관점별 데이터베이스를 기술하고 관계를 정의한 [ANSI ](#user-content-fn-4)[^4]표준이다.
* 3층 스키마는 [데이터베이스의 독립성](#user-content-fn-5)[^5]을 확보하기 위한 방법이다.
* 3단계 계층으로 분리해 독립성[^6]을 확보하는 방법으로 각 계층을 뷰라고도 한다.



### 3층 스키마 구조

<table><thead><tr><th width="219" align="center">구조</th><th align="center">설명</th></tr></thead><tbody><tr><td align="center">외부 스키마</td><td align="center"><p>사용자 관점, 업무상 관련 있는 데이터 접근</p><p>관련 데이터베이스의 뷰를 표시</p><p>응용 프로그램이 접근하는 데이터베이스를 정의한다.</p></td></tr><tr><td align="center"></td><td align="center"><p>설계자 관점, 사용자 전체 집단의 데이터베이스 구조</p><p>전체 데이터베이스 내 규칙과 구조를 표현한다.</p><p>통합 데이터베이스 구조</p></td></tr><tr><td align="center">내부 스키마</td><td align="center"><p>개발자 관점, 데이터베이스의 물리적 저장 구조</p><p>데이터 저장 구조, 레코드 구조, 필드 정의, 인덱스 등을 의미</p></td></tr></tbody></table>



***

## 엔터티 Entity

### 엔터티 Entity

관리해야 하는 데이터 집합을 의미하며, 저장되고 관리되어야 하는 데이터이다.



**엔터티의 의미**

<table><thead><tr><th width="251" align="center">인물</th><th align="center">엔터티의 의미</th></tr></thead><tbody><tr><td align="center">Peter Chen 1976</td><td align="center">엔터티는 변별할 수 있는 사물이다.</td></tr><tr><td align="center">James Martin 1989</td><td align="center">정보를 저장할 수 있는 어떤 것이다.</td></tr><tr><td align="center">C.J Date 1986</td><td align="center">데이터베이스 내부에서 변별 가능한 객체이다.</td></tr><tr><td align="center">Thomas Bruce 1992</td><td align="center">정보가 저장될 수 있는 장소, 사람, 사건, 개념, 물건 등이다.</td></tr></tbody></table>



### 엔터티 도출

* 엔터티는 고객의 비즈니스 프로세스에서 관리되어야 하는 정보를 추출해야 한다.



### 엔터티 특징

<table><thead><tr><th width="236" align="center">엔터티 특징</th><th align="center">설명</th></tr></thead><tbody><tr><td align="center">식별자</td><td align="center">유일한 식별자가 있어야 한다.</td></tr><tr><td align="center">인스턴스 집합</td><td align="center">2개 이상의 인스턴스가 있어야 한다.</td></tr><tr><td align="center">속성</td><td align="center">반드시 속성을 가지고 있다.</td></tr><tr><td align="center">관계</td><td align="center">다른 엔터티와 최소 1개 이상 관계가 있어야 한다.</td></tr><tr><td align="center">업무</td><td align="center">업무에서 관리되어야 하는 집합이다.</td></tr></tbody></table>



### 엔터티 종류

* 엔터티 종류는 물리적 형태의 존재 여부, 엔터티 발생 시점에 따른 종류로 나뉘어진다.



물리적 형태의 존재 여부에 따른 엔터티 종류

<table><thead><tr><th width="231" align="center">종류</th><th align="center">설명</th></tr></thead><tbody><tr><td align="center">유형</td><td align="center">지속적으로 사용되는 엔터티</td></tr><tr><td align="center">개념</td><td align="center">물리적 형태 없이 개념적으로 사용되는 엔터티</td></tr><tr><td align="center">사건</td><td align="center">비즈니스 프로세스를 실행하면서 생성되는 엔터티</td></tr></tbody></table>



발생 시점에 따른 엔터티 종류

<table><thead><tr><th width="236" align="center">종류</th><th align="center">설명</th></tr></thead><tbody><tr><td align="center">기본</td><td align="center">키 엔터티, 독립적으로 생성되는 엔터티</td></tr><tr><td align="center">중심</td><td align="center">기본 엔터티로부터 발생되고 행위 엔터티를 생성하는 엔터티</td></tr><tr><td align="center">행위</td><td align="center">2개 이상의 엔터티로부터 발생된다</td></tr></tbody></table>



***

## 속성 Attribute

### 속성 Attribute

* 속성은 업무에서 필요한 정보인 엔터티가 가지는 항목이다.
* 속성은 더 이상 분리되지 않는 단위로, 업무에 필요한 데이터를 저장할 수 있다.
* 인스턴스의 구성요소이고 의미적으로 더 이상 분해되지 않는다.



### 속성의 특징과 종류

#### 속성의 특징

* 속성은 업무에서 관리되는 정보이다.
* 일반적으로 하나의 값만 가지며, 주식별자에 함수적으로 종속된다. 즉, 기본키가 변경되면 속성 값도 변경된다.



#### 속성의 종류

분해 여부에 따른 속성의 종류

|   종류   |                       설명                      |
| :----: | :-------------------------------------------: |
|  단일 속성 |       <p>하나의 의미로 구성된 것<br>회원ID, 이름 등</p>      |
|  복합 속성 |            <p>여러 의미가 있는 것<br>주소</p>           |
| 다중값 속성 | <p>여러 값을 가질 수 있는 것으로 엔터티로 분해된다.<br>상품 리스트</p> |



특성에 따른 속성의 종류

|   종류  |                             설명                            |
| :---: | :-------------------------------------------------------: |
| 기본 속성 | <p>비즈니스 프로세스에서 도출되는 본래의 속성<br>회원ID, 이름, 계좌번호, 주문 일자 등</p> |
| 설계 속성 | <p>데이터 모델링 과정에서 발생되는 속성<br>유일한 값 부여<br>상품 코드, 지점 코드 등</p> |
| 파생 속성 |           <p>다른 속성에 의해 만들어지는 속성<br>합계, 평균 등</p>           |

{% hint style="info" %}
도메인

속성이 가질 수 있는 값의 범위\
성별 - 남자 | 여자
{% endhint %}



***

## 관계 Relationship

### 관계 Relationship

* 관계는 엔터티 간 관련성을 의미하며 [존재 관계](#user-content-fn-7)[^7]와 [행위 관계](#user-content-fn-8)[^8]로 분류된다.



### 관계의 종류

#### 1) 존재 관계

존재 관계는 엔터티 간 상태를 의미한다.\
예를 들어 고객이 은행에 회원가입하면 관리점이 할당되고, 할당된 관리점에서 고객을 관리한다.

#### 2) 행위 관계

행위 관계는 엔터티 간 어떤 행위가 있는 것을 의미한다.\
예를 들어 증권회사는 계좌를 개설하고 주문을 발주한다.



### 관계 차수 Relation Cardinality

#### 1) 관계 차수

두 엔터티 간 관계에 참여하는 수를 의미한다.



#### 2) 관계 차수의 종류

**1대1 관계**

1대1 관계에는 [완전 1대1 관계](#user-content-fn-9)[^9]와 [선택적 1대1 관계](#user-content-fn-10)[^10]가 있다.



**1대N 관계**

1대N 관계는 엔터티에 행이 하나 있을 때 다른 엔터티의 값이 여러 개 있는 관계이다.\
예를 들어 고객은 여러 개의 계좌를 가질 수 있다.



**M대N 관계**

M대N 관계는 두 엔터티가 서로 여러 개의 관계를 가지고 있는 것이다.\
예를 들어 한 학생이 여러 개의 과목을 수강할 수 있다. 또한 한 과목은 여러 학생이 수강한다. 이 때 M대N 관계가 발생한다.

이러한 M대N 관계는 관계형 데이터베이스에서 조인할 경우 [카테시안 곱](#user-content-fn-11)[^11]이 발생한다. 따라서 M대N 관계를 1대N, N대1로 해소해야 한다.



**필수적 관계와 선택적 관계**

필수적 관계는 반드시 하나 존재해야 하는 관계로 |로 표현한다.

선택적 관계는 없을 수도 있는 관계로 O로 표현한다.



### 식별 관계 Identification Relationship

#### 1) 식별 관계

식별 관계란 강한 개체의 기본키를 약한 개체의 기본키 중 하나로 공유한 관계를 말한다.

강한 개체는 어떤 다른 엔터티에 의존하지 않고 독립적으로 존재하는 개체를 말한다. 강한 개체는 다른 엔터티와 관계를 가질 때 다른 엔터티에 기본키를 공유한다. 따라서 강한 개체의 기본키 값이 변경되면 식별 관계의 엔터티의 값도 변경된다.



#### 2) 비식별 관계

비식별 관계는 강한 개체의 기본키를 다른 엔터티의 기본키가 아닌 일반 칼럼으로 관계를 가지는 것을 의미한다.



{% hint style="info" %}
**강한 개체와 약한 개체**

강한 개체는 누구에도 지배되지 않는 독립적 개체이다.

약한 개체는 개체의 존재가 다른 개체의 존재에 의존하는 개체이다.
{% endhint %}



***





[^1]: 현실 세계를 간략하게 표현

[^2]: 누구나 쉽게 이해할 수 있도록 표현

[^3]: 한 가지 의미를 갖고 명확하게 의미가 해석되어야 한다.

[^4]: 미국 표준 협회 American National Standards Institute - 데이터베이스와 관련된 표준을 정의하는 단체로 데이터베이스와 관련된 표준을 정의한 ANSI 표준, SQL 문이 모든 데이터베이스 관리 시스템에서 호환되도록 정의한 ANSI SQL 표준 등을 정의한다.

[^5]: 데이터의 독립성을 확보하면\
    \
    데이터 복잡도 감소\
    데이터 중복 제거\
    사용자 요구사항 변경에 따른 대응력 향상\
    관리 및 유지보수 비용 절감\
    \
    등의 장이 있다.

[^6]: 논리적 독립성\
    개념 스키마 변경에 외부 스키마가 영향받지 않는 것\


    물리적 독립성\
    내부 스키마 변경에 개념 스키마가 영향받지 않는 것

[^7]: 두 엔터티가 존재 여부의 관계가 있는 것

[^8]: 두 엔터티가 어떤 행위에 의한 관련성이 있는 것

[^9]: 하나의 엔터티에 관계되는 엔터티의 관계가 하나인 경우로 반드시 존재한다.

[^10]: 하나의 엔터티에 관계되는 엔터티의 관계가 하나이거나 없을 수도 있다.

[^11]: 각 릴레이션에 존재하는 모든 데이터를 조합하여 연산하는 것을 의미한다.
